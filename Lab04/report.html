<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <title>–ó–≤—ñ—Ç –∑–∞–≤–¥–∞–Ω—å</title>
  <link href="https://cdn.webdatarocks.com/latest/webdatarocks.min.css" rel="stylesheet"/>
  <script src="https://cdn.webdatarocks.com/latest/webdatarocks.toolbar.min.js"></script>
  <script src="https://cdn.webdatarocks.com/latest/webdatarocks.js"></script>
</head>
<body>
  <h2 style="text-align:center;">üìä –ó–≤—ñ—Ç –ø–æ –∑–∞–≤–¥–∞–Ω–Ω—è–º</h2>
  <div id="pivot-container" style="margin: 20px;"></div>

  <script>
    fetch("tasks.json")
      .then(response => response.json())
      .then(data => {
        // –ø–µ—Ä–µ—Ç–≤–æ—Ä–∏–º–æ –¥–∞–Ω—ñ –¥–ª—è WebDataRocks
        const transformed = data.map(task => ({
          –ù–∞–∑–≤–∞: task.name,
          –î–∞—Ç–∞: task.date,
          –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç: task.priority,
          –°—Ç–∞—Ç—É—Å: task.completed ? "–ó–∞–≤–µ—Ä—à–µ–Ω–æ" : "–ù–µ–∑–∞–≤–µ—Ä—à–µ–Ω–æ"
        }));

        new WebDataRocks({
          container: "#pivot-container",
          toolbar: true,
          height: 600,
          report: {
            dataSource: {
              data: transformed
            },
            slice: {
              rows: [{ uniqueName: "–î–∞—Ç–∞" }],
              columns: [{ uniqueName: "–°—Ç–∞—Ç—É—Å" }],
              measures: [
                {
                  uniqueName: "–ù–∞–∑–≤–∞",
                  aggregation: "count",
                  format: "count"
                }
              ]
            },
            formats: [
              {
                name: "count",
                maxDecimalPlaces: 0
              }
            ]
          }
        });
      });
  </script>
</body>
</html>
